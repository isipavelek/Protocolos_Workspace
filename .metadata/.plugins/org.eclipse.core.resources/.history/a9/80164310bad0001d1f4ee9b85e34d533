/*
 * API_encoder.c
 *
 *  Created on: 1 abr. 2023
 *      Author: ipave
 */

#include "API_encoder.h"

static uint8_t estado=INICIAL;


_Bool Init_Enc(void){
	estado=INICIAL;

	GPIO_InitTypeDef GPIO_InitStruct;

	  /* Enable the BUTTON Clock */
	BUTTONx_GPIO_CLK_ENABLE(Button);
	    /* Configure Button pin as input */
	GPIO_InitStruct.Pin = PINCANAL_A;
	GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
	GPIO_InitStruct.Pull = GPIO_PULLUP;
	GPIO_InitStruct.Speed = GPIO_SPEED_FAST;
	HAL_GPIO_Init(PORTCANAL_A, &GPIO_InitStruct);


}

void EncUpdate(){

	switch (estado){
		case (INICIAL):
				if(BSP_PB_GetState(BUTTON_USER))estado=BUTTON_FALLING;

				break;
		case (B):
				break;
		case (C):
				break;
		case (D):

				break;


		}

}
