/*
 * API_encoder.c
 *
 *  Created on: 1 abr. 2023
 *      Author: ipave
 */

#include "API_encoder.h"

static uint8_t estado=INICIAL;


_Bool Init_Enc(void){
	estado=INICIAL;
}

void EncUpdate(){

	switch (estado){
		case (BUTTON_UP): if(BSP_PB_GetState(BUTTON_USER))estado=BUTTON_FALLING;
						  break;
		case (BUTTON_FALLING):if(!BSP_PB_GetState(BUTTON_USER))estado=BUTTON_UP;
							 else {
								 buttonPressed();
								 estado=BUTTON_DOWN;
							 }
							break;
		case (BUTTON_DOWN):if(!BSP_PB_GetState(BUTTON_USER))estado=BUTTON_RAISING;
							break;
		case (BUTTON_RAISING):if(BSP_PB_GetState(BUTTON_USER))estado=BUTTON_DOWN;
							 else {

								 buttonReleased();
								 estado=BUTTON_UP;
							 }
							break;


		}

}
