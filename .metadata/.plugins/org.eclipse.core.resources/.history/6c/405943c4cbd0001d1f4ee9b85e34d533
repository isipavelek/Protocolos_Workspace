/* Includes ------------------------------------------------------------------*/
#include "main.h"
#include "API_debounce.h"
#include "API_uart.h"
#include "API_lcd.h"
#include "API_Lcd_port.h"
#include "API_init.h"
#include "API_reloj.h"
#include "API_encoder.h"
#include "API_enc_port.h"

/* Private typedef -----------------------------------------------------------*/
/* Private define ------------------------------------------------------------*/
/* Private macro -------------------------------------------------------------*/
/* Private variables ---------------------------------------------------------*/

/**
  * @brief  Main program
  * @param  None
  * @retval None
  */
uint8_t seg=0,min=0,hora=0,dia=19,mes=5,ano=86;

void PresentaHora(void);

enum diasemana{
	lun,mar,mie,jue,vie,sab,dom
};

//uint8_t txt_sem[][7]={"Lunes","Martes","Miercoles","Jueves","Viernes","Sabado","Domingo"};

reloj reloj1;

int main(void){
  uint8_t encoder,val;
  HAL_Init();
  /* Configure the system clock to 180 MHz */
  SystemClock_Config();
  /* Initialize BSP Led for LED2 */
  BSP_LED_Init(LED2);
  BSP_PB_Init(BUTTON_USER, BUTTON_MODE_GPIO);
  if(Init_Lcd()==LCD_ERROR)Error_Handler();
  //RelojInit(&reloj1);
  ClrLcd();
 // RTC_Write_Byte(0x12,0x07);
  PosCaracHLcd(4);
  OutTextLcd((int8_t*)"Hola22");
  while (1){
	  //PresentaHoraLCD(&reloj1,4,1);
	  //PresentaFechaLCD(&reloj1,4,2);
	  //Reloj(&reloj1);
	  PosCaracLLcd(0);
	  DatoAsciiLcd(val);
	  val=Leer_Enc_Pin();
	  //encoder=ReadEncoder();
	 /* if(encoder==IZQ){
		  val++;
	  	  if(val==10)val=0;
	  }
  	  if(encoder==DER){
  		  if(val==0)val=9;
  		  else val--;
  	  }*/
  	//  EncUpdate();
//	  RTC_Read_Byte(&seg,0x00);
	  HAL_Delay(100);
  }
}


/************************ (C) COPYRIGHT STMicroelectronics *****END OF FILE****/

